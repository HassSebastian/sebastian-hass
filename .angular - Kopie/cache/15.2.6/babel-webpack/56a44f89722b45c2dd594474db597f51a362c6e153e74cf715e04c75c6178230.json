{"ast":null,"code":"import _asyncToGenerator from \"D:/mySite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nconst _c0 = [\"nameField\"];\nconst _c1 = [\"emailField\"];\nconst _c2 = [\"messageField\"];\nfunction FooterMessageAreaComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"span\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.sendMessage);\n  }\n}\nexport let FooterMessageAreaComponent = /*#__PURE__*/(() => {\n  class FooterMessageAreaComponent {\n    constructor() {\n      this.nameTest = /^[a-zA-Zäöüß]{1,50}\\s[a-zA-Zäöüß]{1,50}$/;\n      this.emailTest = /\\S+@\\S+\\.\\S+/; // Hier kannst du die Validierung verschärfen\n      this.messageTest = /^[a-zA-Z0-9\\s.,:;!?äÄöÖüÜß]+$/;\n      this.sendMessage = 'Message sending';\n      this.messageChanged = false;\n      this.nameRequired = 'First and last name please';\n      this.emailRequired = 'Your email is required';\n      this.messageRequired = 'Your message is required';\n      this.booleanNameRequired = 0;\n      this.booleanEmailRequired = 0;\n      this.booleanMessageRequired = 0;\n    }\n    ngOnInit() {}\n    handleKeyPress(event, inputType) {\n      const inputValue = event.target.value;\n      let booleanRequired;\n      switch (inputType) {\n        case 'name':\n          booleanRequired = this.nameTest.test(inputValue) ? 1 : 0;\n          this.booleanNameRequired = booleanRequired;\n          break;\n        case 'email':\n          booleanRequired = this.emailTest.test(inputValue) ? 1 : 0;\n          this.booleanEmailRequired = booleanRequired;\n          break;\n        case 'message':\n          booleanRequired = this.messageTest.test(inputValue) ? 1 : 0;\n          this.booleanMessageRequired = booleanRequired;\n          break;\n        default:\n          break;\n      }\n    }\n    checkValueMail() {\n      const nameField = this.nameField.nativeElement;\n      const emailField = this.emailField.nativeElement;\n      const messageField = this.messageField.nativeElement;\n      this.messageValueChanged() ? this.messageValueChangedOK(nameField, emailField, messageField) : this.messageValueChangedNotOK();\n    }\n    messageValueChanged() {\n      return this.booleanNameRequired === 1 && this.booleanEmailRequired === 1 && this.booleanMessageRequired === 1;\n    }\n    messageValueChangedOK(nameField, emailField, messageField) {\n      this.messageChanged = true;\n      this.sendMail(nameField, emailField, messageField);\n    }\n    messageValueChangedNotOK() {\n      if (this.booleanNameRequired === 0) this.booleanNameRequired = 2; // Invalid\n      if (this.booleanEmailRequired === 0) this.booleanEmailRequired = 2; // Invalid\n      if (this.booleanMessageRequired === 0) this.booleanMessageRequired = 2; // Invalid\n    }\n\n    sendMail(nameField, emailField, messageField) {\n      const fd = new FormData();\n      fd.append('name', nameField.value);\n      fd.append('email', emailField.value);\n      fd.append('message', messageField.value);\n      this.tryFunction(fd);\n    }\n    tryFunction(fd) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const response = yield fetch('https://sebastian-hass.de/assets/email-send/send_mail.php', {\n            method: 'POST',\n            body: fd\n          });\n          if (response.ok) {\n            const result = yield response.json();\n            if (result.status === 'success') {\n              _this.emailSendinOK();\n            } else {\n              _this.sendMessage = 'ERROR when sending!';\n            }\n          } else {\n            _this.sendMessage = 'ERROR when sending!';\n          }\n        } catch (error) {\n          console.error('Error:', error); // Fehler in der Konsole ausgeben\n          _this.sendMessage = 'ERROR. Try again later!';\n        }\n      })();\n    }\n    emailSendinOK() {\n      this.sendMessage = 'Thanks for your message';\n      setTimeout(() => {\n        this.messageChanged = false;\n        this.sendMessage = 'Message sending';\n        this.resetFields();\n      }, 3000);\n    }\n    resetFields() {\n      this.nameField.nativeElement.value = '';\n      this.emailField.nativeElement.value = '';\n      this.messageField.nativeElement.value = '';\n      this.booleanNameRequired = 0;\n      this.booleanEmailRequired = 0;\n      this.booleanMessageRequired = 0;\n    }\n  }\n  FooterMessageAreaComponent.ɵfac = function FooterMessageAreaComponent_Factory(t) {\n    return new (t || FooterMessageAreaComponent)();\n  };\n  FooterMessageAreaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FooterMessageAreaComponent,\n    selectors: [[\"app-footer-message-area\"]],\n    viewQuery: function FooterMessageAreaComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.nameField = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.emailField = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageField = _t.first);\n      }\n    },\n    decls: 26,\n    vars: 18,\n    consts: [[\"id\", \"email\", 1, \"d-flex\", \"justify-content-center\"], [1, \"position-relative\", \"d-flex\", \"flex-column\", \"align-items-center\", \"messageBox\"], [1, \"w-100\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"placeholder\", \"First and last name please\", 1, \"w-100\", 3, \"keydown\"], [\"nameField\", \"\"], [1, \"required\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"w-100\", 3, \"keydown\"], [\"emailField\", \"\"], [\"type\", \"text\", \"name\", \"message\", 1, \"w-100\", 3, \"keydown\"], [\"messageField\", \"\"], [1, \"buttonHover\", 3, \"click\"], [\"class\", \"position-absolute top-0 bottom-0 start-0 end-0 d-flex justify-content-center align-items-center sending-overlay\", 4, \"ngIf\"], [1, \"position-absolute\", \"top-0\", \"bottom-0\", \"start-0\", \"end-0\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"sending-overlay\"], [1, \"text-center\", \"messageBlink\"]],\n    template: function FooterMessageAreaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"span\");\n        i0.ɵɵtext(4, \"Your Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 3, 4);\n        i0.ɵɵlistener(\"keydown\", function FooterMessageAreaComponent_Template_input_keydown_5_listener($event) {\n          return ctx.handleKeyPress($event, \"name\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 2)(10, \"span\");\n        i0.ɵɵtext(11, \"Your Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 6, 7);\n        i0.ɵɵlistener(\"keydown\", function FooterMessageAreaComponent_Template_input_keydown_12_listener($event) {\n          return ctx.handleKeyPress($event, \"email\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 5);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 2)(17, \"span\");\n        i0.ɵɵtext(18, \"Your Message\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"textarea\", 8, 9);\n        i0.ɵɵlistener(\"keydown\", function FooterMessageAreaComponent_Template_textarea_keydown_19_listener($event) {\n          return ctx.handleKeyPress($event, \"message\");\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 5);\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 10);\n        i0.ɵɵlistener(\"click\", function FooterMessageAreaComponent_Template_div_click_23_listener() {\n          return ctx.checkValueMail();\n        });\n        i0.ɵɵtext(24, \" Senden \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(25, FooterMessageAreaComponent_div_25_Template, 3, 1, \"div\", 11);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵstyleProp(\"border\", ctx.booleanNameRequired == 1 ? \"4px solid green\" : ctx.booleanNameRequired == 2 ? \"4px solid red\" : \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"color\", ctx.booleanNameRequired == 2 ? \"red\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.nameRequired, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵstyleProp(\"border\", ctx.booleanEmailRequired == 1 ? \"4px solid green\" : ctx.booleanEmailRequired == 2 ? \"4px solid red\" : \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"color\", ctx.booleanEmailRequired == 2 ? \"red\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.emailRequired, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵstyleProp(\"border\", ctx.booleanMessageRequired == 1 ? \"4px solid green\" : ctx.booleanMessageRequired == 2 ? \"4px solid red\" : \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"color\", ctx.booleanMessageRequired == 2 ? \"red\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.messageRequired, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"border\", ctx.booleanNameRequired == 2 || ctx.booleanEmailRequired == 2 || ctx.booleanMessageRequired == 2 ? \"4px solid red\" : ctx.booleanNameRequired == 1 || ctx.booleanEmailRequired == 1 || ctx.booleanMessageRequired == 1 ? \"4px solid green\" : \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.messageChanged);\n      }\n    },\n    dependencies: [i1.NgIf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm],\n    styles: [\".messageBox[_ngcontent-%COMP%]{width:620px;height:450px;z-index:1}.messageBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;border:none;border-bottom:1px solid white;padding:8px;color:#fff;background-color:#000;-webkit-text-fill-color:white;-webkit-box-shadow:0 0 0px 1000px black inset}.messageBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border:3px solid white}.messageBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{opacity:.3}.messageBox[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:150px;max-height:200px;border:none;border-bottom:1px solid white;padding:8px;color:#fff;background-color:transparent}.messageBox[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover{border:3px solid white}.messageBox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:13px;margin-left:12px;padding:0 3px;background-color:#000;color:#fff;z-index:1}.messageBox[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:transparent}.buttonHover[_ngcontent-%COMP%]{border:4px solid white;color:#fff;bottom:0}.messageBlink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 1s linear infinite}.sending-overlay[_ngcontent-%COMP%]{background-color:#000c;z-index:1}.sending-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:10%;font-family:Syne;font-weight:900;font-size:4vw;line-height:normal;background-color:transparent;color:#f90}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:0}to{opacity:1}}@media (max-width: 840px){.messageBox[_ngcontent-%COMP%]{width:70%}}@media (max-width: 480px){.messageBox[_ngcontent-%COMP%]{width:95%}}\"]\n  });\n  return FooterMessageAreaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}